"use strict";(self.webpackChunkWAMashup=self.webpackChunkWAMashup||[]).push([[793],{1775:(e,t,n)=>{n.d(t,{D:()=>C});var r=n(7294),o=n(9250),a=n(9655),l=n(3720),i=n(1508),c=n(2116),u=n(4843),s=n(6867),p=n(2440),d=n(576),f=n(8619),m=n(8584),h=n(326),g=n(6914),v=n(4386),b=n(2658),E=n(700),x=n(6638),w=n(8201),y=n(8637),k=(0,n(9602).ZP)(v.Z)({maxHeight:"64px",minHeight:"64px"}),Z=function(e){var t=e.window,n=e.children,v=e.title,Z=void 0===v?"Templete":v,C=(0,o.TH)(),S=r.useState(!1),P=S[0],M=S[1],j=function(){M((function(e){return!e}))};(0,r.useEffect)((function(){M(!1)}),[C]);var O=[{icon:r.createElement(x.Z,null),title:"TOP",url:"/"},{icon:r.createElement(w.Z,null),title:"ABOUT",url:"/about"},{icon:r.createElement(y.Z,null),title:"WORKS",url:"/works"}],T=r.createElement(i.Z,null,r.createElement(k,null),r.createElement(p.Z,{disablePadding:!0},O.map((function(e,t){return r.createElement(r.Fragment,{key:e.title},r.createElement(d.ZP,{disablePadding:!0},r.createElement(f.Z,{component:a.rU,to:e.url},r.createElement(E.Z,{sx:{color:"inherit"}},e.icon),r.createElement(m.Z,{primary:e.title}))),r.createElement(c.Z,null))})))),z=void 0!==t?function(){return t().document.body}:void 0;return r.createElement(i.Z,{sx:{display:"flex"}},r.createElement(l.Z,{component:"nav",position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}}},r.createElement(k,null,r.createElement(s.Z,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:j,sx:{mr:2,display:{md:"none"}}},r.createElement(h.Z,null)),r.createElement(b.Z,{variant:"h6",component:"div",sx:{flexGrow:1,display:{xs:"block",md:"block"},fontWeight:"bold"}},Z),r.createElement(i.Z,{sx:{display:{xs:"none",sm:"block"}}},[].map((function(e){return r.createElement(g.Z,{key:e,sx:{color:"#fff"}},e)}))))),r.createElement(i.Z,{component:"nav",sx:{width:{md:0},flexShrink:{md:0}}},r.createElement(u.ZP,{container:z,variant:"temporary",open:P,onClose:j,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",md:"none"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:0}}},T),r.createElement(u.ZP,{variant:"permanent",sx:{display:{xs:"none",md:"block"},"& .MuiDrawer-paper":{boxSizing:"border-box",width:0}},open:!0},T)),r.createElement(i.Z,{component:"main",sx:{flexGrow:1,p:0,width:{md:"calc(100% - ".concat(0,"px)")}}},r.createElement(k,null),r.createElement(i.Z,{sx:{p:0}},n)))},C=function(e){var t=e.children,n=e.title;return r.createElement(r.Fragment,null,r.createElement(Z,{title:n},t))}},9793:(e,t,n)=>{n.r(t),n.d(t,{Top:()=>m});var r=n(7294),o=n(1775),a=n(9655),l=n(7054),i=n(1508),c=n(2658),u=n(6914),s=n(2956),p=s.Z.create({baseURL:""});p.defaults.baseURL="",p.defaults.headers.post["Content-Type"]="application/json",p.defaults.headers.post.Accept="application/json",p.defaults.withCredentials=!0,p.interceptors.request.use((function(e){var t;return e.headers=null!==(t=e.headers)&&void 0!==t?t:{},e}),(function(e){return Promise.reject(e)})),p.interceptors.response.use((function(e){return t=void 0,n=void 0,o=function(){return function(e,t){var n,r,o,a,l={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(l=0)),l;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return l.label++,{value:i[1],done:!1};case 5:l.label++,r=i[1],i=[0];continue;case 7:i=l.ops.pop(),l.trys.pop();continue;default:if(!((o=(o=l.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){l=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){l.label=i[1];break}if(6===i[0]&&l.label<o[1]){l.label=o[1],o=i;break}if(o&&l.label<o[2]){l.label=o[2],l.ops.push(i);break}o[2]&&l.ops.pop(),l.trys.pop();continue}i=t.call(e,l)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}}(this,(function(t){return[2,e]}))},new((r=void 0)||(r=Promise))((function(e,a){function l(e){try{c(o.next(e))}catch(e){a(e)}}function i(e){try{c(o.throw(e))}catch(e){a(e)}}function c(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(l,i)}c((o=o.apply(t,n||[])).next())}));var t,n,r,o}),(function(e){var t;switch(e.response.status){case 400:console.log(e.response);break;case 401:return void console.log("Unauthorized");case 404:console.log(null===(t=e.response)||void 0===t?void 0:t.status);break;case 500:console.log("server error");break;default:console.log("an unknown error occurred")}return console.log("error"),Promise.reject(e)}));var d=function(){return d=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},d.apply(this,arguments)};p.defaults.withCredentials=!1;var f=function(e){var t=e.sx,n=e.defaultCenter,o=(0,r.useState)(null),s=o[0],f=o[1],m=(0,r.useState)(n),h=m[0],g=m[1],v=(0,r.useState)(17),b=v[0],E=v[1],x=(0,r.useState)(),w=x[0],y=x[1],k=(0,r.useState)([]),Z=k[0],C=k[1],S="https://ja.wikipedia.org/w/api.php?format=json&origin=*&action=query&prop=info&inprop=url&list=geosearch&gscoord=".concat(h.lat,"%7C").concat(h.lng,"&gsradius=10000&gslimit=300");(0,r.useEffect)((function(){p.get(S).then((function(e){C(e.data.query.geosearch)})).catch((function(e){console.log(e)}))}),[S,b]);var P=function(e){null==s||s.panTo(e.latLng)},M=function(){y(void 0)};return r.createElement(l.KJ,{googleMapsApiKey:"AIzaSyBq0K4wlrF46jewEw11mmrL3hrMWeh1aPc"},r.createElement(l.b6,{mapContainerStyle:d({},t),center:n,zoom:b,onLoad:function(e){f(e)},onCenterChanged:function(){var e;if(s){var t=null===(e=s.getCenter())||void 0===e?void 0:e.toJSON();void 0!==t&&(Math.abs(h.lat-t.lat)>.01||Math.abs(h.lng-t.lng)>.01)&&(console.log("center update"),g(t))}},onZoomChanged:function(){s&&s.getZoom()<b&&E(s.getZoom())}},Z.map((function(e){return r.createElement(l.jC,{key:e.pageid,position:{lat:e.lat,lng:e.lon},onClick:P,onMouseOver:function(){y(e.pageid)}},w===e.pageid&&r.createElement(l.kp,{position:{lat:e.lat,lng:e.lon},onCloseClick:M},r.createElement(i.Z,{sx:{p:1,pl:0}},r.createElement(c.Z,null,e.title),r.createElement(u.Z,{variant:"contained",disableRipple:!0,fullWidth:!0,component:a.rU,to:"https://jp.wikipedia.org/?curid=".concat(e.pageid),target:"_blank"},"記事を見る"))))}))))},m=function(){return r.createElement(o.D,{title:"WikiMap"},r.createElement(f,{sx:{width:"100%",height:"calc(100vh - 64px)"},defaultCenter:{lat:35.17109038306571,lng:136.88149398241316}}))}}}]);